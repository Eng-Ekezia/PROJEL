{
  "project": {
    "name": "webapp-dimensionamento-nbr5410",
    "purpose": "Aplicacao web didatica para apoio ao dimensionamento de circuitos eletricos conforme ABNT NBR 5410, substituindo planilhas e reforcando o raciocinio de engenharia",
    "target_audience": [
      "engenharia civil",
      "engenharia de energia"
    ],
    "constraints": {
      "cost": "free",
      "license": "open-source",
      "deployment": "free-tier only"
    },
    "core_principles": [
      "engenharia antes de calculo",
      "contexto antes de circuito",
      "norma como regra explicita e auditavel",
      "usuario descreve a realidade, sistema traduz para a norma",
      "rastreabilidade total das decisoes",
      "excelencia de UX sem simplificacao tecnica"
    ]
  },

  "technology_stack": {
    "frontend": {
      "framework": "React",
      "language": "TypeScript",
      "bundler": "Vite",
      "ui_library": "Material UI"
    },
    "backend": {
      "framework": "FastAPI",
      "language": "Python",
      "python_version": ">=3.11"
    },
    "database": {
      "type": "SQLite",
      "usage": [
        "persistencia didatica",
        "projetos exemplo",
        "historico de dimensionamentos"
      ]
    },
    "deployment": {
      "frontend": "Vercel",
      "backend": "Render"
    }
  },

  "roadmap": [
    {
      "phase": "00",
      "name": "Congelamento conceitual",
      "objective": "Eliminar ambiguidades antes de qualquer implementacao",
      "outputs": [
        "escopo fechado",
        "decisoes arquiteturais congeladas",
        "alinhamento completo com NBR 5410"
      ]
    },

    {
      "phase": "01",
      "name": "Preparacao do ambiente de desenvolvimento",
      "objective": "Criar ambiente previsivel, reprodutivel e estavel",
      "steps": [
        "Instalar VSCode",
        "Instalar Python >= 3.11",
        "Instalar Node.js (LTS)",
        "Configurar extensoes (Python, Pylance, Black, ESLint, Prettier, GitLens)",
        "Instalar Git e criar conta GitHub"
      ],
      "deliverable": "Ambiente local pronto para desenvolvimento continuo"
    },

    {
      "phase": "02",
      "name": "Inicializacao e organizacao do projeto",
      "objective": "Evitar caos estrutural desde o inicio",
      "details": {
        "repository": {
          "type": "monorepo",
          "structure": [
            "/frontend",
            "/backend",
            "/domain_core",
            "/docs"
          ]
        },
        "documentation": {
          "README": [
            "objetivo do sistema",
            "escopo normativo",
            "limitacoes assumidas",
            "stack tecnologica"
          ],
          "license": "MIT"
        }
      },
      "deliverable": "Repositorio versionado e documentado"
    },

    {
      "phase": "03",
      "name": "Configuracao do backend",
      "objective": "Criar API orquestradora sem logica de engenharia embutida",
      "principles": [
        "API nao calcula",
        "API nao decide",
        "API apenas valida e chama o dominio"
      ],
      "initial_endpoints": [
        "/health",
        "/version",
        "/projetos",
        "/zonas",
        "/circuitos",
        "/dimensionamento",
        "/demanda"
      ],
      "deliverable": "Backend funcional, testavel e extensivel"
    },

    {
      "phase": "04",
      "name": "Configuracao do frontend",
      "objective": "Criar base de UX limpa e orientada a projeto",
      "principles": [
        "linguagem humana",
        "progressivo",
        "sem jargoes normativos na entrada"
      ],
      "core_views": [
        "Projeto",
        "Zonas de Influencia",
        "Circuitos",
        "Resultados"
      ],
      "deliverable": "Frontend integrado ao backend"
    },

    {
      "phase": "05",
      "name": "Modelagem do dominio eletrico",
      "objective": "Traduzir a NBR 5410 para estruturas computacionais",
      "schemas": {
        "ProjetoEletrico": {
          "id": "uuid",
          "nome": "string",
          "tipo_instalacao": "residencial | comercial | industrial",
          "tensao_sistema": "string",
          "sistema": "monofasico | bifasico | trifasico",
          "esquema_aterramento": "TT | TN-S | TN-C | TN-C-S | IT",
          "descricao_aterramento": "string"
        },

        "ZonaDeInfluencia": {
          "id": "uuid",
          "nome": "string",
          "tipo_zona": "residencial | comercial | industrial | tecnica | externa | personalizada",
          "descricao": "string",
          "influencias_externas": {
            "descricao_local": "string",
            "influencias": [
              {
                "categoria": "A | B | C",
                "codigo": "string",
                "classe": "number",
                "descricao": "string"
              }
            ]
          }
        },

        "Circuito": {
          "id": "uuid",
          "identificador": "string",
          "tipo_circuito": "iluminacao | TUG | TUE",
          "zona_id": "uuid",
          "sobrescreve_influencias": "boolean",
          "tensao_nominal": "number",
          "comprimento_m": "number",
          "metodo_instalacao": "A1 | A2 | B1 | B2 | C | D | E | F",
          "material_condutor": "cobre | aluminio",
          "isolacao": "PVC | EPR | XLPE",
          "temperatura_ambiente": "number",
          "circuitos_agrupados": "number",
          "potencia_instalada_W": "number | null",
          "corrente_nominal_A": "number | null",
          "criticidade": "normal | importante | essencial"
        }
      },
      "rules": [
        "influencias externas sao definidas por zona",
        "circuitos herdam influencias da zona por padrao",
        "excecoes sao explicitas e raras",
        "potencia e corrente sao mutuamente exclusivas"
      ],
      "deliverable": "Dominio fechado e coerente"
    },

    {
      "phase": "05.1",
      "name": "UX – Definicao de Zonas e Influencias",
      "objective": "Excelencia de UX para entrada de contexto normativo",
      "ux_flow": [
        "sugestao automatica de zonas",
        "wizard progressivo por zona",
        "perguntas humanas",
        "traducao automatica para codigos normativos",
        "resumo tecnico oculto por padrao"
      ],
      "deliverable": "Entrada confiavel de influencias externas"
    },

    {
      "phase": "06",
      "name": "Motor de calculo normativo",
      "objective": "Executar calculos conforme pratica de engenharia",
      "calculations": [
        "corrente de projeto",
        "capacidade de conducao",
        "fatores de correcao",
        "queda de tensao",
        "selecao de disjuntor"
      ],
      "output_schema": {
        "ResultadoDimensionamento": {
          "corrente_projeto": "number",
          "secao_condutor": "number",
          "dispositivo_protecao": "string",
          "queda_tensao_percentual": "number",
          "alertas": "string[]",
          "referencias_normativas": "string[]"
        }
      },
      "deliverable": "Resultados tecnicamente defensaveis"
    },

    {
      "phase": "06.5",
      "name": "Regras condicionais por influencias externas",
      "objective": "Avaliar aceitabilidade normativa das solucoes",
      "checks": [
        "exigencia de DR",
        "restricao de metodo de instalacao",
        "necessidade de equipotencializacao",
        "reprovacao normativa"
      ],
      "deliverable": "Analise contextual integrada ao calculo"
    },

    {
      "phase": "07",
      "name": "Modulo de demanda por concessionaria",
      "objective": "Calcular demanda de forma independente",
      "schema": {
        "ModeloDemanda": {
          "concessionaria": "string",
          "tipo_instalacao": "string",
          "fator_expansao_futuro": "number",
          "demanda_calculada": "number",
          "criterio": "string",
          "justificativa": "string"
        }
      },
      "initial_provider": "CEMIG",
      "deliverable": "Demanda extensivel por concessionaria"
    },

    {
      "phase": "08",
      "name": "Persistencia e reutilizacao",
      "objective": "Permitir uso real em sala e avaliacao",
      "features": [
        "salvar projetos",
        "duplicar projetos",
        "editar zonas e circuitos",
        "carregar exemplos reais"
      ],
      "deliverable": "Base reutilizavel de projetos"
    },

    {
      "phase": "09",
      "name": "Testes tecnicos",
      "objective": "Garantir que o sistema nao ensine errado",
      "tests": [
        "unitarios de formulas",
        "unitarios de regras normativas",
        "casos reais de projeto",
        "casos limite"
      ],
      "deliverable": "Confiabilidade tecnica comprovada"
    },

    {
      "phase": "10",
      "name": "Documentacao tecnica",
      "objective": "Registrar o conhecimento embutido no sistema",
      "docs": [
        "modelo matematico",
        "fluxo de decisao",
        "mapeamento UX → norma",
        "limitacoes assumidas"
      ],
      "deliverable": "Sistema defensavel tecnicamente e pedagogicamente"
    },

    {
      "phase": "11",
      "name": "Deploy",
      "objective": "Disponibilizar o sistema para uso academico",
      "constraints": [
        "free tier",
        "sem autenticacao obrigatoria"
      ],
      "deploy": {
        "frontend": "Vercel",
        "backend": "Render"
      },
      "deliverable": "Aplicacao online e acessivel"
    }
  ]
}
